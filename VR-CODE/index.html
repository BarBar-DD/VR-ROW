<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>memoire</title>
    <meta name="description" content="Lac et bateau d'aviron en réalité virtuelle avec A-Frame">
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    
    <!-- animation des rame en fonction des données recu 
    <script src="oar_anim.js"></script> -->
    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-extras@4.1.3/dist/aframe-extras.min.js"></script>

    
  </head>
  <body>
    <a-scene>
      <a-assets>
        <!-- Remplacez ces modèles par vos propres fichiers 3D pour le bateau et les rames --> 
           
        <a-asset-item id="boat-obj" src="model_boat2.obj"></a-asset-item>
        <a-asset-item id="boat-mtl" src="model_boat2.mtl"></a-asset-item>
           
        <a-asset-item id="oar-obj" src="https://cdn.glitch.global/4381eb6e-fece-46f0-8444-01f54913cfa4/besane_oar.obj?v=1680526708711"></a-asset-item>
        <a-asset-item id="oar-mtl" src="https://cdn.glitch.global/4381eb6e-fece-46f0-8444-01f54913cfa4/rame%20en%20bois%20texture.mtl?v=1680541048910"></a-asset-item>
        
        
        <a-asset-item id="lac-obj" src="https://cdn.glitch.global/4381eb6e-fece-46f0-8444-01f54913cfa4/low%20poly%20river.obj?v=1680518024110"></a-asset-item>
        <a-asset-item id="lac-mtl" src="https://cdn.glitch.global/4381eb6e-fece-46f0-8444-01f54913cfa4/low%20poly%20river.mtl?v=1680518022928"></a-asset-item>
        
      </a-assets>

      <!-- Caméra et contrôles -->
      <a-entity camera position="0 0.4 0" look-controls wasd-controls="fly: true" movement-controls="speed: 0.1"></a-entity>


      <!-- Ciel et eau -->
      <a-sky color="#87CEEB"></a-sky>

      <!-- Bateau d'aviron -->
      <a-entity collada-model="#boat_dae" position="0 0 0" scale="1 1 1"></a-entity>
      <a-entity id="boat-model" obj-model="obj: #boat-obj; mtl: #boat-mtl" position="0 0 0" rotation="0 180  0" scale="0.5 0.5 0.5"></a-entity>


      
      <!-- lac -->
   <!-- Génère des instances de lac dans les directions positive et négative de l'axe Z -->
         <script>
          window.addEventListener('DOMContentLoaded', () => {
            const scene = document.querySelector('a-scene');

            for (let i = 0; i < 10; i++) {
              for (let direction = -1; direction <= 1; direction += 2) {
                const entity = document.createElement('a-entity');
                entity.setAttribute('id', `lac-${i}-${direction}`);
                entity.setAttribute('obj-model', 'obj: #lac-obj; mtl: #lac-mtl');
                entity.setAttribute('position', `0 3.26 ${i * 120 * direction}`);
                entity.setAttribute('scale', '4 4 4');

                scene.appendChild(entity);
              }
            }
          });
        </script>
      <!-- Rames -->
      
      <a-entity id="oar-left" obj-model="obj: #oar-obj; mtl: #oar-mtl" position="-0.3 0.05 -0.3" rotation="180 0 0" scale="0.5 0.5 0.5"></a-entity>
      <a-entity id="oar-right" obj-model="obj: #oar-obj; mtl: #oar-mtl" position="0.3 0.05 -0.3" rotation="180 0 180" scale="0.5 0.5 0.5"></a-entity>

    </a-scene>
  </body>
</html>
